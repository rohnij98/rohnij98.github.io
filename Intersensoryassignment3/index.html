<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Poetry Collection</title>
<style>
  :root {
    --font-family: 'Georgia', serif;
    --color-bg-light: #f7f3f2;
    --color-text-light: #1c1c1c;
    --color-bg-dark: #121212;
    --color-text-dark: #e4e4e4;
    --color-highlight: #e07b39;
    --color-link: #1565c0;
    --color-link-hover: #0b3a91;
    --max-width: 900px;
    --transition-speed: 0.3s;
    --default-font-size: 18px;
    --default-line-height: 1.6;
    --default-letter-spacing: 0.02em;
  }

  /* Reset & base styles */
  * {
    box-sizing: border-box;
  }

  body {
    font-family: var(--font-family);
    margin: 0;
    background-color: var(--color-bg-light);
    color: var(--color-text-light);
    font-size: var(--default-font-size);
    line-height: var(--default-line-height);
    letter-spacing: var(--default-letter-spacing);
    transition: background-color var(--transition-speed), color var(--transition-speed);
  }

  body.dark {
    background-color: var(--color-bg-dark);
    color: var(--color-text-dark);
  }

  a {
    color: var(--color-link);
    text-decoration: none;
  }
  a:hover, a:focus {
    color: var(--color-link-hover);
    outline: none;
  }

  h1, h2, h3, h4 {
    margin-top: 0;
    margin-bottom: 0.4em;
    font-weight: 700;
  }

  h1 {
    font-size: 2.8rem;
    line-height: 1.1;
  }

  h2 {
    font-size: 2rem;
  }

  h3 {
    font-size: 1.4rem;
  }

  /* Container */
  .container {
    max-width: var(--max-width);
    margin: 0 auto;
    padding: 1rem 1rem 3rem;
  }

  /* Accessibility controls container */
  #accessibility-controls {
    position: fixed;
    bottom: 1rem;
    right: 1rem;
    background: var(--color-highlight);
    color: white;
    border-radius: 12px;
    padding: 0.5rem 1rem;
    font-size: 1rem;
    display: flex;
    gap: 1rem;
    z-index: 1000;
  }
  #accessibility-controls label {
    cursor: pointer;
    user-select: none;
  }
  #accessibility-controls select {
    border-radius: 5px;
    border: none;
    font-size: 1rem;
    padding: 0.1rem 0.3rem;
  }
  #accessibility-controls button {
    cursor: pointer;
    border: none;
    background: transparent;
    color: white;
    font-weight: bold;
    font-size: 1.2rem;
    user-select: none;
    transition: color var(--transition-speed);
  }
  #accessibility-controls button:hover,
  #accessibility-controls button:focus {
    color: #ffcb8f;
    outline: none;
  }

  /* Skip to content link */
  #skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background-color: var(--color-highlight);
    color: #fff;
    padding: 8px 16px;
    z-index: 10000;
    text-decoration: none;
    font-weight: 600;
    border-radius: 0 0 8px 0;
    transition: top 0.3s ease-in-out;
  }
  #skip-link:focus {
    top: 0;
    outline: 3px solid #fff;
  }

  /* Header and nav */
  header {
    background: var(--color-highlight);
    color: white;
    padding: 1rem 1rem;
  }

  nav {
    max-width: var(--max-width);
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  nav ul {
    list-style: none;
    padding-left: 0;
    display: flex;
    gap: 1rem;
  }
  nav ul li {
  }

  nav a {
    color: white;
    font-weight: 600;
    padding: 0.3rem 0.6rem;
    border-radius: 6px;
  }
  nav a:hover, nav a:focus {
    background-color: rgba(255, 255, 255, 0.25);
    outline: none;
  }

  /* Main content area */
  main {
    margin-top: 1rem;
  }

  /* Homepage */
  #homepage h1 {
    text-align: center;
    margin-bottom: 0.4rem;
  }

  #homepage p.mission {
    max-width: 30rem;
    margin: 0 auto 2rem auto;
    font-size: 1.2rem;
    font-weight: 500;
    text-align: center;
    color: var(--color-highlight);
  }

  #featured-poem {
    background: var(--color-highlight);
    color: white;
    padding: 1rem 1.2rem;
    margin: 2rem auto;
    max-width: 600px;
    border-radius: 12px;
    box-shadow: 0 0 12px rgba(224,123,57,.4);
    font-style: italic;
    cursor: pointer;
    user-select: none;
    transition: background-color var(--transition-speed);
  }
  #featured-poem:hover, #featured-poem:focus {
    background-color: #c8641b;
    outline: none;
  }

  /* Collection page grid */
  #collection {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
    gap: 1.6rem;
  }

  .poem-card {
    background: var(--color-highlight);
    color: white;
    padding: 1rem 1.2rem;
    border-radius: 14px;
    cursor: pointer;
    box-shadow: 0 0 8px rgb(224 123 57 / 0.7);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    transition: background-color var(--transition-speed);
  }
  .poem-card:hover, .poem-card:focus {
    background-color: #c8641b;
    outline: none;
  }
  .poem-title {
    font-weight: 700;
    font-size: 1.25rem;
    margin-bottom: 0.3rem;
    text-align: center;
  }
  .poem-author {
    font-style: italic;
    font-size: 1rem;
    text-align: center;
  }

  /* Dedicated poem page */
  #poem-page {
    max-width: 700px;
    margin: 1rem auto 4rem;
    padding: 1rem 1.2rem;
    border-radius: 14px;
    background: var(--color-highlight);
    color: white;
    box-shadow: 0 0 14px rgb(224 123 57 / 0.8);
  }
  #poem-page h2 {
    margin-bottom: 0.2rem;
  }
  #poem-page h3 {
    font-weight: 400;
    font-style: italic;
    margin-top: 0;
  }
  #poem-text {
    white-space: pre-wrap;
    margin: 1rem 0 1.6rem 0;
    font-style: normal;
    font-weight: 400;
    line-height: 1.5;
  }
  #poem-background {
    font-size: 0.95rem;
    opacity: 0.9;
    line-height: 1.35;
    font-style: italic;
    border-top: 1px solid rgba(255 255 255 / 0.5);
    padding-top: 1rem;
  }

  /* Buttons */
  button {
    border: none;
    border-radius: 8px;
    padding: 0.4rem 0.8rem;
    font-size: 1rem;
    background-color: #e07b39;
    color: white;
    cursor: pointer;
    transition: background-color var(--transition-speed);
  }
  button:hover, button:focus {
    background-color: #c8641b;
    outline: none;
  }

  /* Responsive tweaks */
  @media (max-width: 600px) {
    #collection {
      grid-template-columns: repeat(auto-fit,minmax(140px,1fr));
    }
  }

  /* Focus visible for keyboard users */
  :focus-visible {
    outline: 3px solid var(--color-highlight);
    outline-offset: 2px;
  }
</style>
</head>
<body>
<a href="#main-content" id="skip-link">Skip to content</a>
<header role="banner">
  <nav role="navigation" aria-label="Main Navigation">
    <ul>
      <li><a href="#" id="nav-home" tabindex="0">Home</a></li>
      <li><a href="#" id="nav-collection" tabindex="0">Poem Collection</a></li>
    </ul>
  </nav>
</header>
<main id="main-content" tabindex="-1" role="main" aria-live="polite">
  <!-- Homepage -->
  <section id="homepage" aria-label="Homepage">
    <div class="container">
      <h1>Poetry Collection</h1>
      <p class="mission">Sharing timeless poems that inspire, uplift, and move the soul.</p>
      <article id="featured-poem" role="button" tabindex="0" aria-pressed="false" aria-label="Featured poem: Invictus, read more" >
        <blockquote>
          "Out of the night that covers me,<br />
          Black as the pit from pole to pole,<br />
          I thank whatever gods may be<br />
          For my unconquerable soul."
        </blockquote>
        <footer>â€” Invictus by William Ernest Henley</footer>
      </article>
    </div>
  </section>

  <!-- Collection Page -->
  <section id="collection-page" aria-label="Poem Collection" hidden>
    <div class="container">
      <h2>Poem Collection</h2>
      <div id="collection" aria-live="polite" aria-relevant="additions removals">
        <!-- Dynamically populated poem cards -->
      </div>
    </div>
  </section>

  <!-- Dedicated Poem Page -->
  <section id="poem-page" aria-label="Poem text and information" hidden>
    <div class="container">
      <button id="back-to-collection" aria-label="Back to poem collection">&larr; Back to collection</button>
      <h2 id="poem-title"></h2>
      <h3 id="poem-author"></h3>
      <article id="poem-text" tabindex="0" aria-label="Poem text"></article>
      <section id="poem-background" aria-label="Poem background information"></section>
    </div>
  </section>
</main>

<!-- Accessibility Controls -->
<div id="accessibility-controls" aria-label="Accessibility controls">
  <label for="font-size-selector">Font size:</label>
  <select id="font-size-selector" aria-controls="main-content">
    <option value="16px">Small</option>
    <option value="18px" selected>Medium</option>
    <option value="20px">Large</option>
    <option value="22px">Extra Large</option>
  </select>

  <label for="line-spacing-selector">Line spacing:</label>
  <select id="line-spacing-selector" aria-controls="main-content">
    <option value="1.3">Tight</option>
    <option value="1.6" selected>Normal</option>
    <option value="1.8">Relaxed</option>
    <option value="2.0">Extra Relaxed</option>
  </select>

  <button id="toggle-contrast" aria-pressed="false" aria-label="Toggle dark and light mode">ðŸŒ™</button>
</div>

<script>
  // Poems data array with title, author, text, and background info
  const poems = [
    {
      id: "invictus",
      title: "Invictus",
      author: "William Ernest Henley",
      text:
`Out of the night that covers me,
Black as the pit from pole to pole,
I thank whatever gods may be
For my unconquerable soul.

In the fell clutch of circumstance
I have not winced nor cried aloud.
Under the bludgeonings of chance
My head is bloody, but unbowed.

Beyond this place of wrath and tears
Looms but the Horror of the shade,
And yet the menace of the years
Finds, and shall find, me unafraid.

It matters not how strait the gate,
How charged with punishments the scroll,
I am the master of my fate,
I am the captain of my soul.`,
      background:
      `Written in 1875, "Invictus" is a powerful poem of resilience and determination by William Ernest Henley, who composed it while battling illness. It celebrates the unconquerable spirit and personal mastery over fate despite adversity.`
    },
    {
      id: "road-not-taken",
      title: "The Road Not Taken",
      author: "Robert Frost",
      text:
`Two roads diverged in a yellow wood,
And sorry I could not travel both
And be one traveler, long I stood
And looked down one as far as I could
To where it bent in the undergrowth;

Then took the other, as just as fair,
And having perhaps the better claim,
Because it was grassy and wanted wear;
Though as for that the passing there
Had worn them really about the same,

And both that morning equally lay
In leaves no step had trodden black.
Oh, I kept the first for another day!
Yet knowing how way leads on to way,
I doubted if I should ever come back.

I shall be telling this with a sigh
Somewhere ages and ages hence:
Two roads diverged in a wood, and Iâ€”
I took the one less traveled by,
And that has made all the difference.`,
      background:
      `"The Road Not Taken" is Robert Frost's iconic meditation on choices and their consequences. Written in 1916, it uses the metaphor of diverging roads in a forest to reflect on life's decisions and individualism.`
    },
    {
      id: "do-not-go-gentle",
      title: "Do Not Go Gentle Into That Good Night",
      author: "Dylan Thomas",
      text:
`Do not go gentle into that good night,
Old age should burn and rave at close of day;
Rage, rage against the dying of the light.

Though wise men at their end
